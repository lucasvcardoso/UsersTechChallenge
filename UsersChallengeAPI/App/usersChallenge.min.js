angular.module("UsersApp",["ngRoute"]).config(["$locationProvider","$routeProvider",function(e,s){s.when("/ListAllUsers",{templateUrl:"UsersChallenge.API/App/Views/ListAllUsers.html",controller:"UsersController"}).when("/AddUser",{templateUrl:"UsersChallenge.API/App/Views/AddUser.html",controller:"UsersController"}).when("/EditUser/:userId",{templateUrl:"UsersChallenge.API/App/Views/EditUser.html",controller:"UsersController"}).otherwise({redirectTo:"/ListAllUsers"})}]);var myApp=angular.module("UsersApp");myApp.controller("UsersController",["$scope","$http","$location","$routeParams",function(s,r,t,e){s.ListOfUsers,s.Status,s.Close=function(){t.path("/ListAllUsers")},r.get("UsersChallenge.API/Users").then(function(e){s.ListOfUsers=e},function(e){s.Status="Data not found"}),s.Add=function(){var e={UserId:s.UserId,Name:s.Name,Age:s.Age,Address:s.Address};r.post("UsersChallenge.API/Users",e).then(function(e){t.path("/ListAllUsers")},function(e){s.error="Error adding new user: "+e.ExceptionMessage})},e.userId&&(s.UserId=e.userId,r.get("UsersChallenge.API/Users/"+s.UserId).then(function(e){s.UserId,s.Name=e.data.Name,s.Age=e.data.Age,s.Address=e.data.Address})),s.Update=function(){var e={UserId:s.UserId,Name:s.Name,Age:s.Age,Address:s.Address};0<s.UserId&&r.put("UsersChallenge.API/Users",e).then(function(e){t.path("UsersChallenge.API/ListAllUsers")},function(e){console.log(e),s.error="Error updating user: "+e.ExceptionMessage})}}]);